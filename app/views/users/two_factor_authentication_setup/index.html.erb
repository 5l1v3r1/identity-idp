<% if !@presenter.no_factors_enabled? %>
  <div class="alert alert-success" role="alert"><%= @presenter.first_mfa_successfully_enabled_message %></div>
<% end %>
<% title @presenter.title %>
<h1 class="h3 my0"><%= @presenter.heading %></h1>
<p class="mt-tiny mb3"><%= @presenter.info %></p>
  <%= simple_form_for @two_factor_options_form,
                      html: { autocomplete: 'off', role: 'form' },
                      method: :patch,
                      url: two_factor_options_path do |f| %>
  <div class="mb3">
    <fieldset class="m0 p0 border-none">
      <legend class="mb2 serif bold"><%= @presenter.label %></legend>
      <% @presenter.options.each_with_index do |option, index| %>
      <label class="btn-border<%= option.border_color %> col-12 mb2 <%= option.html_class %>" for="two_factor_options_form_selection_<%= option.type %>">
        <div class="radio-<%= option.font_color %>">
          <%= radio_button_tag('two_factor_options_form[selection]', option.type, index.zero?) %>
          <span class="indicator mt-tiny"></span>
          <span class="<%= option.font_color %> bold fs-20p"><%= option.label %></span>
          <span class="info-icon"><%= tooltip(option.more_info)%></span>
          <% if option.recommended? %>
            <span class="rec-tag">Recommended</span>
          <% end %>
          <div class="regular gray-dark fs-10p mt0 mb-tiny">
            <%= option.info%>
            <%= option.learn_more? ?
              link_to( t('two_factor_authentication.two_factor_choice_options.learn_more'),
                option.learn_more_path, target: '_blank' ) :
              ''%>
          </div>
        </div>
      </label>
      <% end %>
  </fieldset>
</div>

<div>
  <%= f.button :submit, t('forms.buttons.continue'), class: 'sm-col-6 col-12 btn-wide mb1' %>
</div>
<% end %>

<%= render 'shared/cancel', link: destroy_user_session_path %>

<%= javascript_pack_tag("webauthn-unhide-signup", "webauthn-detect") %>
